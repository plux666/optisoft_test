(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),s=a.n(c),o=(a(13),a(4)),l=a(5),i=a(7),m=a(6),u=a(1);function d(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1];function o(t){t.preventDefault();var a=t.dataTransfer.items[0].getAsFile(),n=a.name;a.text().then((function(t){s(!0),e.file(t,n)}))}return c?e.error?r.a.createElement("div",{className:"drop-box-container",id:"drop-zone",onDrop:o,onDragOver:function(e){e.preventDefault()}},r.a.createElement("h2",null,"COULDN'T PROCESS FILE \n DROP AGAIN")):c?r.a.createElement("div",{className:"drop-box-container",id:"drop-zone"},r.a.createElement("h2",null,"PROCESSING...")):void 0:r.a.createElement("div",{className:"drop-box-container",id:"drop-zone",onDrop:o,onDragOver:function(e){e.preventDefault()}},r.a.createElement("h2",null,"DROP FILE HERE"))}function p(e){var t=e.user?"":"root";return r.a.createElement("div",{className:"comment"},r.a.createElement("h4",null,e.user),r.a.createElement("p",{className:t},e.comment.comment),function(){if(e.comment.replies)return e.comment.replies.map((function(e,t){return r.a.createElement(p,{key:t,user:e.user,comment:{comment:e.comment,replies:e.replies}})}))}())}function f(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1];return c?c?r.a.createElement("div",{className:"use-row-open"},r.a.createElement("i",{onClick:function(t){t.stopPropagation(),e.delete(e.user)},className:"material-icons delete-icon"},"delete"),r.a.createElement("h3",{onClick:function(){s(!1)}},e.user),e.comment.map((function(t,a){return r.a.createElement(p,{key:a,delete:e.delete,comment:{comment:t.comment,replies:t.replies}})}))):void 0:r.a.createElement("div",{className:"use-row-small",onClick:function(){s(!0)}},r.a.createElement("i",{onClick:function(t){t.stopPropagation(),e.delete(e.user)},className:"material-icons delete-icon"},"delete"),r.a.createElement("h3",null,e.user))}function E(e){return r.a.createElement("div",{className:"list"},Object.keys(e.users).sort().map((function(t){return r.a.createElement(f,{key:t,delete:e.delete,user:t,comment:e.users[t]})})))}var v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fileHandler=function(e,t){var a={};try{JSON.parse(e).forEach((function(e){a[e.user]||(a[e.user]=[]),a[e.user].push({comment:e.comment,replies:e.replies})})),n.setState({stage:2,discData:a,fileName:t,error:!1})}catch(r){console.error(r),n.setState({error:!0})}},n.deleteUser=function(e){var t=Object.assign({},n.state.discData);delete t[e],n.setState({discData:t})},n.state={stage:1,error:!1},n.dropBoxRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){return 1===this.state.stage?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container-main"},r.a.createElement(d,{error:this.state.error,ref:this.dropBoxRef,file:this.fileHandler}))):2===this.state.stage?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container-main"},r.a.createElement("h2",null,this.state.fileName),r.a.createElement(E,{delete:this.deleteUser,users:this.state.discData}))):void 0}}]),a}(r.a.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.1da71602.chunk.js.map