(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{13:function(e,t,r){e.exports=r(20)},18:function(e,t,r){},20:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(8),c=r.n(s),i=(r(18),r(1)),l=r.n(i),o=r(5),u=r(6),m=r(9),p=r(10),f=r(2),d=r(12),v=r(11),h=r(3);function E(e){var t=Object(a.useState)(!1),r=Object(h.a)(t,2),s=r[0],c=r[1];function i(t){t.preventDefault();var r=t.dataTransfer.items[0].getAsFile(),a=r.name;r.text().then((function(t){c(!0),e.file(t,a)}))}return s?e.error?n.a.createElement("div",{className:"drop-box-container",id:"drop-zone",onDrop:i,onDragOver:function(e){e.preventDefault()}},n.a.createElement("h2",null,"COULDN'T PROCESS FILE \n DROP AGAIN")):s?n.a.createElement("div",{className:"drop-box-container",id:"drop-zone"},n.a.createElement("h2",null,"PROCESSING...")):void 0:n.a.createElement("div",{className:"drop-box-container",id:"drop-zone",onDrop:i,onDragOver:function(e){e.preventDefault()}},n.a.createElement("h2",null,"DROP FILE HERE"))}function b(e){var t=e.user?"":"root";return n.a.createElement("div",{className:"comment"},n.a.createElement("h4",null,e.user),n.a.createElement("p",{className:t},e.comment.comment),function(){if(e.comment.replies)return e.comment.replies.map((function(e,t){return n.a.createElement(b,{key:t,user:e.user,comment:{comment:e.comment,replies:e.replies}})}))}())}function k(e){var t=Object(a.useState)(!1),r=Object(h.a)(t,2),s=r[0],c=r[1];return s?s?n.a.createElement("div",{className:"use-row-open"},n.a.createElement("i",{onClick:function(t){t.stopPropagation(),e.delete(e.user)},className:"material-icons delete-icon"},"delete"),n.a.createElement("h3",{onClick:function(){c(!1)}},e.user),e.comment.map((function(t,r){return n.a.createElement(b,{key:r,delete:e.delete,comment:{comment:t.comment,replies:t.replies}})}))):void 0:n.a.createElement("div",{className:"use-row-small"},n.a.createElement("i",{onClick:function(t){t.stopPropagation(),e.delete(e.user)},className:"material-icons delete-icon"},"delete"),n.a.createElement("h3",null,e.user))}function x(e){return n.a.createElement("div",{className:"list"},e.users.sort().map((function(t){return n.a.createElement(k,{key:t,delete:e.delete,user:t,comment:e.users[t]})})))}var O=function(e){Object(d.a)(r,e);var t=Object(v.a)(r);function r(e){var a;return Object(m.a)(this,r),(a=t.call(this,e)).deleteUser=function(e){var t=Array.from(a.state.users),r=t.findIndex((function(t){return t===e}));t.splice(r,1),a.setState({users:t})},a.state={stage:1,error:!1},a.fileHandler=a.fileHandler.bind(Object(f.a)(a)),a.dropBoxRef=n.a.createRef(),a}return Object(p.a)(r,[{key:"fileHandler",value:function(){var e=Object(u.a)(l.a.mark((function e(t,r){var a,n,s,c,i,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){return(c=Object(u.a)(l.a.mark((function e(t){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.replies){e.next=20;break}r=Object(o.a)(t.replies),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=12;break}if(c=a.value,n.includes(c.user)||n.push(c.user),!c.replies){e.next=10;break}return e.next=10,s(c);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},n=[],e.prev=3,a=JSON.parse(t),n.push(a.user),i=Object(o.a)(a.replies),e.prev=7,i.s();case 9:if((m=i.n()).done){e.next=16;break}return p=m.value,n.includes(p.user)||n.push(p.user),e.next=14,s(p);case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:this.setState({stage:2,fileName:r,users:n,error:!1}),e.next=31;break;case 27:e.prev=27,e.t1=e.catch(3),console.error(e.t1),this.setState({error:!0});case 31:case"end":return e.stop()}}),e,this,[[3,27],[7,18,21,24]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 1===this.state.stage?n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"container-main"},n.a.createElement(E,{error:this.state.error,ref:this.dropBoxRef,file:this.fileHandler}))):2===this.state.stage?n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"container-main"},n.a.createElement("h2",null,this.state.fileName),n.a.createElement(x,{delete:this.deleteUser,users:this.state.users}))):void 0}}]),r}(n.a.Component);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.ea7e907e.chunk.js.map